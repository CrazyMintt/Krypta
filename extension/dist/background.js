(()=>{"use strict";chrome.runtime.onMessage.addListener((e,t,r)=>{if("getCredentials"===e.action)return chrome.storage.local.get("token",t=>{const n=t.token;n?fetch("https://localhost:8000/data/search",{method:"POST",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({page_size:1e3,page_number:1,id_separadores:[]})}).then(e=>e.json()).then(t=>{if(Array.isArray(t)){const n=t.filter(t=>{try{const r=new URL(t.senha.host_url),n=new URL(e.url);return r.hostname===n.hostname}catch(e){return!1}});r({credentials:n})}}).catch(e=>{console.error("Failed to fetch credentials:",e),r({credentials:[]})}):r({credentials:[]})}),!0})})();