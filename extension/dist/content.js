(() => { "use strict"; let e = null; const t = () => { const e = document.getElementById("krypta-suggestions"); e && e.remove() }, o = (e, t) => { var o; const n = null === (o = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, "value")) || void 0 === o ? void 0 : o.set; n ? n.call(e, t) : e.value = t; const s = new Event("input", { bubbles: !0 }); e.dispatchEvent(s) }; document.addEventListener("focusin", n => { if (n.target instanceof HTMLInputElement) { const s = n.target, l = s.type.toLowerCase(), r = s.name.toLowerCase(), i = s.autocomplete.toLowerCase(); "email" !== l && "text" !== l && "password" !== l || (r.includes("user") || r.includes("email") || i.includes("username") || i.includes("email")) && (n => { const s = n.target; chrome.runtime.sendMessage({ action: "getCredentials", url: window.location.href }, n => { n && n.credentials && ((n, s) => { if (t(), e = s, 0 === n.length) return; const l = document.createElement("div"); l.id = "krypta-suggestions", l.style.position = "absolute", l.style.zIndex = "9999", l.style.border = "1px solid #ccc", l.style.backgroundColor = "#fff", l.style.borderRadius = "4px", l.style.boxShadow = "0 2px 5px rgba(0,0,0,0.2)"; const r = s.getBoundingClientRect(); l.style.top = `${window.scrollY + r.bottom}px`, l.style.left = `${window.scrollX + r.left}px`, l.style.width = `${r.width}px`, n.forEach(n => { const s = document.createElement("div"); s.style.padding = "8px", s.style.cursor = "pointer", s.setAttribute("tabindex", "-1"), s.textContent = `${n.nome_aplicacao} (${n.senha.email})`, s.onmouseover = () => { s.style.backgroundColor = "#f0f0f0" }, s.onmouseout = () => { s.style.backgroundColor = "#fff" }, s.onclick = () => { const s = null == e ? void 0 : e.form; if (s) { const e = (e => { const t = Array.from(e.querySelectorAll("input")); for (const e of t) { const t = e.type.toLowerCase(), o = e.name.toLowerCase(), n = e.id.toLowerCase(), s = e.autocomplete.toLowerCase(); if ("email" === t) return e; if ("text" === t && (o.includes("user") || o.includes("email") || o.includes("login") || n.includes("user") || n.includes("email") || n.includes("login") || s.includes("username") || s.includes("email"))) return e } return null })(s), t = (e => { const t = Array.from(e.querySelectorAll('input[type="password"]')); return t.length > 0 ? t[0] : null })(s); e && o(e, n.senha.email), t && o(t, "decrypted_password_placeholder") } t() }, l.appendChild(s) }), document.body.appendChild(l) })(n.credentials, s) }) })(n) } }), document.addEventListener("focusout", e => { const o = document.getElementById("krypta-suggestions"), n = e.relatedTarget; o && !o.contains(n) && t() }) })();